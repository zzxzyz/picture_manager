graph TD
    A[开始] --> B[复制文件到目标目录]
    B --> C[MD5去重]
    C --> D[按类型分类]
    D --> E[获取拍摄时间]
    E --> F{是否获取到时间?}
    F -->|是| G[放入camera目录]
    F -->|否| H[放入no_camera目录]
    G --> I[按时间重命名]
    H --> J[尝试从文件名提取时间]
    J --> K[使用修改时间]
    I --> L[按年份组织]
    K --> L
    L --> M[再次MD5去重]
    M --> N[结束]
